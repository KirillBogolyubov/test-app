(function(){"use strict";var e={9743:function(e,t,n){var a=n(5130),u=n(6768),o=n(4232),r=n(144);const l={class:"form"},i={class:"form__input"},c={class:"form__input"},s={class:"form__input"},v={class:"info-block"},p={key:0,class:"event-block"};var f={__name:"App",setup(e){const t=(0,r.KR)(0),n=(0,r.KR)(0),f=(0,r.KR)(0),d=(0,r.KR)(0),m=(0,r.KR)([]),b=(0,u.EW)((()=>JSON.parse(localStorage.getItem("data")||"{}"))),g={amount:"сумма",quantity:"количество",price:"цена"},k=e=>{setTimeout((()=>{"price"===e||"quantity"===e?f.value=t.value*n.value:"amount"===e&&(t.value?n.value=f.value/t.value:n.value&&(t.value=f.value/n.value))}),300),h(`Поле ${g[e]}(${e}) изменено`,{price:t.value,quantity:n.value,amount:f.value})},h=(e,t)=>{const n={message:e,data:t};m.value.unshift(n)},y=()=>{const e={counter:d.value++,price:t.value,quantity:n.value,amount:f.value};h("Отправка данных",{localStorageRequest:JSON.parse(localStorage.getItem("data"))}),O(e).then((e=>{h("Response",{res:e,localStorageResponse:JSON.parse(localStorage.getItem("data")||"{}")})})).catch((e=>{throw h("Response",{err:e}),new Error(e.message)}))},O=e=>new Promise(((t,n)=>{setTimeout((()=>{const a=e.amount%2===0;a?(localStorage.setItem("data",JSON.stringify(e)),t({success:!0})):n({success:!1})}),1e3)}));return(e,r)=>((0,u.uX)(),(0,u.CE)("section",null,[(0,u.Lk)("form",l,[(0,u.Lk)("div",i,[(0,u.bo)((0,u.Lk)("input",{id:"price","onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),type:"number",onInput:r[1]||(r[1]=e=>k("price"))},null,544),[[a.Jo,t.value]]),r[6]||(r[6]=(0,u.Lk)("label",{for:"price"},"Количество",-1))]),(0,u.Lk)("div",c,[(0,u.bo)((0,u.Lk)("input",{id:"quantity","onUpdate:modelValue":r[2]||(r[2]=e=>n.value=e),type:"number",onInput:r[3]||(r[3]=e=>k("quantity"))},null,544),[[a.Jo,n.value]]),r[7]||(r[7]=(0,u.Lk)("label",{for:"quantity"},"Количество",-1))]),(0,u.Lk)("div",s,[(0,u.bo)((0,u.Lk)("input",{id:"amount","onUpdate:modelValue":r[4]||(r[4]=e=>f.value=e),onInput:r[5]||(r[5]=e=>k("amount"))},null,544),[[a.Jo,f.value]]),r[8]||(r[8]=(0,u.Lk)("label",{for:"amount"},"Сумма",-1))]),(0,u.Lk)("button",{onClick:(0,a.D$)(y,["stop","prevent"])},"Отправить")]),(0,u.Lk)("div",v,"localStorage: "+(0,o.v_)(b.value),1),m.value.length?((0,u.uX)(),(0,u.CE)("div",p,[r[9]||(r[9]=(0,u.eW)(" События: ")),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(m.value.slice(0,4),((e,t)=>((0,u.uX)(),(0,u.CE)("div",{key:t},(0,o.v_)(e.message)+" "+(0,o.v_)(e.data),1)))),128))])):(0,u.Q3)("",!0)]))}};const d=f;var m=d;(0,a.Ef)(m).mount("#app")}},t={};function n(a){var u=t[a];if(void 0!==u)return u.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,u,o){if(!a){var r=1/0;for(s=0;s<e.length;s++){a=e[s][0],u=e[s][1],o=e[s][2];for(var l=!0,i=0;i<a.length;i++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,o<r&&(r=o));if(l){e.splice(s--,1);var c=u();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[a,u,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var u,o,r=a[0],l=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(u in l)n.o(l,u)&&(n.m[u]=l[u]);if(i)var s=i(n)}for(t&&t(a);c<r.length;c++)o=r[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},a=self["webpackChunktest_app"]=self["webpackChunktest_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(9743)}));a=n.O(a)})();
//# sourceMappingURL=app.e86e488d.js.map